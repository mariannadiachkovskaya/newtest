package filebeginning5l;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.EOFException;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.InputMismatchException;
import java.util.Scanner;
/**
 *
 * @author diachkovskayamarianna
 */
public class Kirillcode {
   public static void main(String[] args) throws IOException {
        Scanner sc = new Scanner(System.in, "cp1251");
        System.out.println("Введите имя файла:");
        File file = new File(sc.nextLine());
        DataOutputStream wr = null;
        if (!file.exists()) {
            try {
                file.createNewFile();
                wr = new DataOutputStream(new FileOutputStream(file));
                try {
                    System.out.println("Введите числа:");
                    while(true) {
                        wr.writeInt(sc.nextInt());
                    }
                } catch (InputMismatchException e) {
                    wr.flush();
                    wr.close();
                    System.out.println("Файл сохранен");
                } 
                catch (Exception e) {
                }
            } catch (Exception e) {
                System.out.println("Ошибка:" + e);
            }
        }
        
        
        System.out.println(file.getAbsolutePath());
       
        try {
            DataInputStream rd = new DataInputStream(new FileInputStream(file));
            while(true) {
                int number = rd.readInt();
                if (number%3 == 0){
                    wr.writeInt(number);
                    System.out.println("Число"+ (int)number);
            }
            }
        } catch (FileNotFoundException e) {
            System.out.println("Файл не найден");
        } catch (EOFException e) {
            wr.flush();
            wr.close();
           
        } catch (Exception e) {
            System.out.println("Ошибка: " + e);
        }
        
    }
}
 
